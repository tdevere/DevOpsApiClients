# Operation Definition: Git / PullRequests / Update Pull Request
domain: Git
resource: PullRequests
operation: update_pull_request
ps_verb: Update
ps_noun: PullRequest

http_method: PATCH
url_path: "_apis/git/repositories/{repository_id}/pullrequests/{pull_request_id}"
api_version: "7.2"
docs_url: "https://learn.microsoft.com/en-us/rest/api/azure/devops/git/pull-requests/update?view=azure-devops-rest-7.2"

synopsis: "Update a pull request (title, description, status, etc.)."
description: "Updates properties of a pull request. Set status to 'completed' to merge or 'abandoned' to close."

project_scoped: true

params:
  - name: repository_id
    env_var: REPO_ID
    description: "Repository name or GUID"
    required: true
  - name: pull_request_id
    env_var: PULL_REQUEST_ID
    description: "Pull request ID (integer)"
    required: true

version_guard_keys:
  - pullRequestId
  - title

success_status: 200
output_mode: message
output_message: "PR #{pullRequestId} updated â€” status: {status}"

fixture_success:
  pullRequestId: 101
  title: "Add new feature"
  status: "completed"
  closedBy:
    displayName: "Alice Developer"
    uniqueName: "alice@example.com"
  closedDate: "2026-02-17T15:00:00Z"
  sourceRefName: "refs/heads/feature/new-feature"
  targetRefName: "refs/heads/main"
  mergeStatus: "succeeded"
  lastMergeCommit:
    commitId: "abc123def456"
    url: "https://dev.azure.com/testorg/_apis/git/repositories/r1/commits/abc123def456"

fixture_error_404:
  message: "Pull request not found"
  typeKey: "GitPullRequestNotFoundException"
  errorCode: 0
