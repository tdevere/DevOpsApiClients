# AUTO-GENERATED by spec_to_yaml.py â€” review recommended
domain: Git
resource: Refs
operation: update_ref
ps_verb: Update
ps_noun: Ref
http_method: PATCH
url_path: _apis/git/repositories/{repository_id}/refs
api_version: '7.2'
docs_url: https://learn.microsoft.com/en-us/rest/api/azure/devops/git/refs/update-ref?view=azure-devops-rest-7.2
synopsis: Lock or Unlock a branch.
project_scoped: true
params:
- name: repository_id
  env_var: REPO_ID
  description: The name or ID of the repository.
  required: true
- name: filter
  env_var: FILTER
  description: The name of the branch to lock/unlock
  required: true
- name: is_locked
  env_var: IS_LOCKED
  description: isLocked
  required: false
  cli_flag: --is-locked
- name: name
  env_var: NAME
  description: name
  required: false
  cli_flag: --name
- name: new_object_id
  env_var: NEW_OBJECT_ID
  description: newObjectId
  required: false
  cli_flag: --new-object-id
- name: old_object_id
  env_var: OLD_OBJECT_ID
  description: oldObjectId
  required: false
  cli_flag: --old-object-id
body_fields:
- json_path: isLocked
  source: param:is_locked
  description: isLocked
- json_path: name
  source: param:name
  description: name
- json_path: newObjectId
  source: param:new_object_id
  description: newObjectId
- json_path: oldObjectId
  source: param:old_object_id
  description: oldObjectId
- json_path: repositoryId
  source: param:repository_id
  description: repositoryId
version_guard_keys:
- name
- creator
output_mode: message
output_message: 'Refs: {name}'
fixture_success:
  creator:
    directoryAlias: sample-string
    id: sample-string
    imageUrl: sample-string
    inactive: true
    isAadIdentity: true
    isContainer: true
    isDeletedInOrigin: true
    profileUrl: sample-string
  isLocked: true
  isLockedBy:
    directoryAlias: sample-string
    id: sample-string
    imageUrl: sample-string
    inactive: true
    isAadIdentity: true
    isContainer: true
    isDeletedInOrigin: true
    profileUrl: sample-string
  name: sample-string
  objectId: sample-string
  peeledObjectId: sample-string
  statuses:
  - context:
      genre: {}
      name: {}
    createdBy:
      directoryAlias: {}
      id: {}
      imageUrl: {}
      inactive: {}
      isAadIdentity: {}
      isContainer: {}
      isDeletedInOrigin: {}
      profileUrl: {}
    creationDate: '2026-01-15T10:30:00Z'
    description: sample-string
    id: 1
    state: {}
    targetUrl: sample-string
fixture_error_404:
  message: Refs not found
  typeKey: RefsNotFoundException
  errorCode: 0
