# AUTO-GENERATED by spec_to_yaml.py â€” review recommended
domain: Artifacts
resource: RetentionPolicies
operation: set_retention_policy
ps_verb: Set
ps_noun: Retentionpolicy
http_method: PUT
url_path: _apis/packaging/Feeds/{feed_id}/retentionpolicies
api_version: '7.2'
docs_url: https://learn.microsoft.com/en-us/rest/api/azure/devops/artifacts/retention--policies/set-retention-policy?view=azure-devops-rest-7.2
synopsis: Set the retention policy for a feed.
project_scoped: true
base_host: feeds.dev.azure.com
params:
- name: feed_id
  env_var: FEED_ID
  description: Name or ID of the feed.
  required: true
- name: age_limit_in_days
  env_var: AGE_LIMIT_IN_DAYS
  description: This attribute is deprecated and is not honoured by retention
  required: false
  cli_flag: --age-limit-in-days
- name: count_limit
  env_var: COUNT_LIMIT
  description: Maximum versions to preserve per package and package type.
  required: false
  cli_flag: --count-limit
- name: days_to_keep_recently_downloaded_packages
  env_var: DAYS_TO_KEEP_RECENTLY_DOWNLOADED_PACKAGES
  description: Number of days to preserve a package version after its latest download.
  required: false
  cli_flag: --days-to-keep-recently-downloaded-packages
body_fields:
- json_path: ageLimitInDays
  source: param:age_limit_in_days
  description: This attribute is deprecated and is not honoured by retention
- json_path: countLimit
  source: param:count_limit
  description: Maximum versions to preserve per package and package type.
- json_path: daysToKeepRecentlyDownloadedPackages
  source: param:days_to_keep_recently_downloaded_packages
  description: Number of days to preserve a package version after its latest download.
version_guard_keys:
- ageLimitInDays
- countLimit
output_mode: message
fixture_success:
  ageLimitInDays: 1
  countLimit: 1
  daysToKeepRecentlyDownloadedPackages: 1
fixture_error_404:
  message: Retention  Policies not found
  typeKey: RetentionPoliciesNotFoundException
  errorCode: 0
