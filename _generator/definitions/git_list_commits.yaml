# Operation Definition: Git / Commits / List Commits
# Single source of truth â€” generates Python, PowerShell, Bash + tests + fixtures.

domain: Git
resource: Commits
operation: list_commits
ps_verb: List
ps_noun: Commits

http_method: GET
url_path: "_apis/git/repositories/{repository_id}/commits"
api_version: "7.2-preview.2"
docs_url: "https://learn.microsoft.com/en-us/rest/api/azure/devops/git/commits/get-commits?view=azure-devops-rest-7.2"

synopsis: "List commits in a Git repository."
description: "Returns commits from the specified repository, optionally filtered by branch or date."

project_scoped: true

params:
  - name: repository_id
    env_var: REPOSITORY_ID
    description: "Repository name or GUID"
    required: true

version_guard_keys:
  - count
  - value

success_status: 200
output_mode: table
table_columns:
  - commitId
  - comment

fixture_success:
  count: 2
  value:
    - commitId: "abc123def456789012345678901234567890abcd"
      author:
        name: "Test User"
        email: "testuser@example.com"
        date: "2026-02-17T10:00:00Z"
      committer:
        name: "Test User"
        email: "testuser@example.com"
        date: "2026-02-17T10:00:00Z"
      comment: "feat: add new feature"
      changeCounts:
        Add: 2
        Edit: 1
        Delete: 0
      url: "https://dev.azure.com/testorg/testproject/_apis/git/repositories/repo-guid/commits/abc123def456789012345678901234567890abcd"
      remoteUrl: "https://dev.azure.com/testorg/testproject/_git/MyRepo/commit/abc123def456789012345678901234567890abcd"
    - commitId: "def456abc789012345678901234567890abcdef12"
      author:
        name: "Another Dev"
        email: "dev2@example.com"
        date: "2026-02-16T15:30:00Z"
      committer:
        name: "Another Dev"
        email: "dev2@example.com"
        date: "2026-02-16T15:30:00Z"
      comment: "fix: resolve login issue"
      changeCounts:
        Add: 0
        Edit: 3
        Delete: 0
      url: "https://dev.azure.com/testorg/testproject/_apis/git/repositories/repo-guid/commits/def456abc789012345678901234567890abcdef12"
      remoteUrl: "https://dev.azure.com/testorg/testproject/_git/MyRepo/commit/def456abc789012345678901234567890abcdef12"

fixture_error_404:
  message: "Repository not found"
  typeKey: "GitRepositoryNotFoundException"
  errorCode: 0
